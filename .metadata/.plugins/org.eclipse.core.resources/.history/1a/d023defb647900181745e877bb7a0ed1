package com.Uploadimage;

import java.awt.Robot;
import java.beans.Visibility;
import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

public class UploadImageForGmail {
	WebDriver driver;
	@Test
	public void setUp()
	{
		System.setProperty("webdriver.chrome.driver", "D:\\Java-Eclipse\\SeleniumFW\\Resources\\chromedriver.exe");
		driver=new ChromeDriver();
		driver.manage().window().maximize();
		driver.manage().timeouts().implicitlyWait(15,TimeUnit.SECONDS);
		driver.get("http://gmail.com/");
		
	       driver.findElement(By.name("identifier")).sendKeys("vemulabalaji856");
	     driver.findElement(By.xpath("//span[text()='Next']")).click();
	     driver.findElement(By.name("password")).sendKeys("chandu856");
//	     try {
	    	    WebElement next = driver.findElement(By.xpath("//span[contains( text(),'Next')]"));
	    	    next.click();
//	    	}
//	    	catch(org.openqa.selenium.StaleElementReferenceException ex)
//	    	{
//	    	    WebElement date = driver.findElement(By.xpath("//span[contains( text(),'Next')]"));
//	    	    date.click();
//	    	}
	     
	     WebDriverWait wait=new WebDriverWait(driver, 60);
	 	wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath("//div[text()='COMPOSE']")));
	     driver.findElement(By.xpath("//div[text()='COMPOSE']")).click();
		
//	     java.util.Set<String> handles = driver.getWindowHandles();
//	        System.out.println(handles);

//	        for (String handle1 : driver.getWindowHandles()) {
//
//	               System.out.println(handle1);
//	               
//
//	               driver.switchTo().window(handle1);
	               driver.findElement(By.xpath("//div[@data-tooltip='Attach files']")).click();
	              // Robot rbt=new Robot();
	              // rbt.keyPress(KeyEvent.VK_CONTROL);


//}
	
		
	
}
}

